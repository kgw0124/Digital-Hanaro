<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
    <div class="container">
        <div>
            게임 시작
        </div>

        <!--
        <div>
            <input type="radio" name="option" value="가위">
            <label>가위</label>

            <input type="radio" name="option" value="바위">
            <label>바위</label>

            <input type="radio" name="option" value="보">
            <label>보</label>
        </div>
        -->

        <!-- 강사님 코드 -->
        <div>
            <button type="button" id="option1">가위</button>
            <button type="button" id="option2">바위</button>
            <button type="button" id="option3">보</button>
        </div>
    </div>
</body>
</html>
<script>

    window.onload = function(){
        for(let i=1; i<=3; i++)
            document.getElementById("option"+i).addEventListener("click", ()=>{
                gameStart(i);
        })
        /*
        document.getElementById("startGame").addEventListener("click", () => {
            let selectedOption = document.querySelector('input[name="option"]:checked').value;
            var computerOption = computerOption(); //<error> 함수명과 변수명을 같게 하면 오류 발생
            let result = compare(computerOption, selectedOption);

            let prompt = `컴퓨터 : ${computerOption}<br> 사람 : ${selectedOption}<br> 결과 : ${result}`;
            document.getElementById("result").innerHTML = prompt;
        })
        */
    }
    
    let gameStart = function(person)
    {
        console.log( person );
        computer = Math.ceil(Math.random()*3);
        winner = getWinner(computer, person);

        //(point) 반복되는 데이터를 배열로 선언하여 코드를 간략하게 다듬기 
        let winners = ["", "무승부", "컴퓨터승", "사람승"];
        let titles = ["", "가위", "바위", "보"];
        let msg =
            `컴퓨터 : ${titles[computer]}
            사람:${titles[person]}
            승부:${winners[winner]} `;
        alert(msg);
    }

    let getWinner = function(computer, person){
        let winner=1;
        if (computer == person)
            winner = 1; //무승부
        else if(computer == 1 && person==2 )
            winner = 2;  //컴퓨터 승
        else if(computer == 1 && person==3 )
            winner = 3; //사람 승
        else if(computer == 2 && person==1 )
            winner = 2 //컴퓨터 승
        else if(computer == 2 && person==3 )
            winner = 3 //사람 승
        else if(computer == 3 && person==1 )
            winner = 3 //사람 승
        else if(computer == 3 && person==2 )
            winner = 2 //컴퓨터 승
        return winner;
    }
    
    /**
    function computerOption(){
        let option = ["가위", "바위", "보"];
        let index = Math.floor(Math.random() * 3) + 1;
        return option[index];
    }

    let compare = function(computer, user){
        let result;
        switch(computer){
            case "가위":
                switch(user){
                    case "가위":
                        result = "비겼다";
                        break;
                    case "바위":
                        result = "이겼다";
                        break; 
                    case "보":
                        result = "졌다";
                        break;
                }
            case "바위":
                switch(user){
                    case "가위":
                        result = "졌다";
                        break;
                    case "바위":
                        result = "비겼다";
                        break; 
                    case "보":
                        result = "이겼다";
                        break;
                }
            case "보":
                switch(user){
                    case "가위":
                        result = "이겼다";
                        break;
                    case "바위":
                        result = "졌다";
                        break; 
                    case "보":
                        result = "비겼다";
                        break;
                }   
        }
        return result;
    }
    **/
</script>